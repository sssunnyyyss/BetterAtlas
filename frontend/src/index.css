@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --ba-font-display: "Crimson Pro", ui-serif, Georgia, serif;
  --ba-font-sans: "Open Sans", ui-sans-serif, system-ui, sans-serif;
}

html {
  font-size: 16px;
}

body {
  font-family: var(--ba-font-sans);
  @apply bg-white text-gray-900 antialiased;
}

/* Global form control polish: softer corners + consistent inner spacing */
@layer base {
  input:not([type]),
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="search"],
  input[type="number"],
  input[type="url"],
  input[type="tel"],
  textarea,
  select {
    @apply border border-gray-300 bg-white text-gray-900 shadow-sm transition-colors duration-150;
    border-radius: 0.75rem !important;
    padding: 0.72rem !important;
  }

  input:not([type]):focus,
  input[type="text"]:focus,
  input[type="email"]:focus,
  input[type="password"]:focus,
  input[type="search"]:focus,
  input[type="number"]:focus,
  input[type="url"]:focus,
  input[type="tel"]:focus,
  textarea:focus,
  select:focus {
    @apply border-primary-500 outline-none;
    box-shadow: 0 0 0 3px rgba(39, 105, 171, 0.14);
  }

  textarea {
    min-height: 7rem;
    resize: vertical;
  }

  select {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    border-radius: 0.9rem !important;
    min-height: 2.75rem;
    line-height: 1.25rem;
    padding-top: 0.72rem !important;
    padding-bottom: 0.72rem !important;
    padding-left: 0.72rem !important;
    padding-right: 2.35rem !important;
    background-color: #fff;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 20 20' fill='none'%3E%3Cpath d='M5 7.5L10 12.5L15 7.5' stroke='%23374151' stroke-width='1.6' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.85rem center;
    background-size: 0.9rem;
  }

  select:hover {
    border-color: #cbd5e1;
  }

  /* Legacy Edge/IE arrow cleanup for a more consistent look. */
  select::-ms-expand {
    display: none;
  }
}

/* Crimson Pro for all headings — gives the Emory academic feel */
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--ba-font-display);
}

.ba-page-fade {
  animation: ba-page-fade-in 260ms cubic-bezier(0.22, 1, 0.36, 1) both;
  will-change: opacity, transform;
}

@keyframes ba-page-fade-in {
  from {
    opacity: 0;
    transform: translateY(8px) scale(0.995);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.ba-dropdown-pop {
  transform-origin: top center;
  animation: ba-dropdown-pop-in 180ms cubic-bezier(0.22, 1, 0.36, 1) both;
}

@keyframes ba-dropdown-pop-in {
  from {
    opacity: 0;
    transform: translateY(-6px) scale(0.98);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.ba-segmented {
  position: relative;
  display: inline-grid;
  grid-auto-flow: column;
  align-items: center;
  gap: 0;
  padding: 2px;
  border: 1px solid #d1d5db;
  border-radius: 999px;
  background: #fff;
  isolation: isolate;
  overflow: hidden;
}

.ba-segmented-glider {
  position: absolute;
  top: 2px;
  bottom: 2px;
  left: 2px;
  width: calc((100% - 4px) / var(--ba-segments, 2));
  border-radius: 999px;
  background: #012169;
  box-shadow: 0 6px 18px rgba(0, 40, 120, 0.2);
  transform: translateX(calc(var(--ba-segment-index, 0) * 100%));
  transition: transform 260ms cubic-bezier(0.22, 1, 0.36, 1);
  pointer-events: none;
  z-index: 0;
}

.ba-segmented-btn {
  position: relative;
  z-index: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 4.9rem;
  padding: 0.3rem 0.8rem;
  border-radius: 999px;
  font-size: 0.82rem;
  font-weight: 600;
  color: #6b7280;
  transition: color 180ms ease;
}

.ba-segmented-btn-compact {
  min-width: 4.1rem;
  padding: 0.28rem 0.68rem;
}

.ba-segmented-btn-active {
  color: #fff;
}

.ba-segmented-btn:not(.ba-segmented-btn-active):hover {
  color: #374151;
}

@media (prefers-reduced-motion: reduce) {
  .ba-page-fade {
    animation: none;
  }

  .ba-dropdown-pop {
    animation: none;
  }

  .ba-segmented-glider {
    transition: none;
  }
}

/* ── Onboarding animations ── */

@keyframes ob-step-in {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes ob-float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
}

@keyframes ob-badge-in {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes ob-feature-in {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes ob-cta-glow {
  0%,
  100% {
    box-shadow: 0 4px 20px rgba(0, 40, 120, 0.30);
  }
  50% {
    box-shadow: 0 4px 30px rgba(0, 40, 120, 0.50),
      0 0 60px rgba(210, 176, 0, 0.20);
  }
}

@keyframes ob-badge-glow {
  0%,
  100% {
    box-shadow: 0 0 20px rgba(232, 213, 133, 0.30);
  }
  50% {
    box-shadow: 0 0 30px rgba(232, 213, 133, 0.50),
      0 0 60px rgba(232, 213, 133, 0.20);
  }
}

.ob-step-enter {
  animation: ob-step-in 500ms cubic-bezier(0.16, 1, 0.3, 1) both;
}

.ob-float {
  animation: ob-float 4s ease-in-out infinite;
}

.ob-badge-enter {
  animation: ob-badge-in 600ms cubic-bezier(0.34, 1.56, 0.64, 1) 200ms both;
}

.ob-feature-card {
  animation: ob-feature-in 400ms cubic-bezier(0.16, 1, 0.3, 1) both;
}

.ob-cta-glow {
  animation: ob-cta-glow 3s ease-in-out infinite;
}

.ob-badge-glow {
  animation: ob-badge-glow 3s ease-in-out infinite;
}

@media (prefers-reduced-motion: reduce) {
  .ob-step-enter,
  .ob-float,
  .ob-badge-enter,
  .ob-feature-card,
  .ob-cta-glow,
  .ob-badge-glow {
    animation: none;
  }
}
